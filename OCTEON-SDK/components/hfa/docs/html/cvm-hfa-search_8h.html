<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OCTEON HFA SDK 3.1.0: cvm-hfa-search.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OCTEON HFA SDK 3.1.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cvm-hfa-search_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">cvm-hfa-search.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is header file for search related macros and APIs. </p>
</div>
<p><a href="cvm-hfa-search_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abce1a1963e8a4a4a6f36506c681e1dbd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvm-hfa-search_8h.html#abce1a1963e8a4a4a6f36506c681e1dbd">HFA_SEARCH_MAX_IOVECLEN</a>&#160;&#160;&#160;((64&lt;&lt;10)-1) /* 64K - 1 */</td></tr>
<tr class="memdesc:abce1a1963e8a4a4a6f36506c681e1dbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of chunks in payload/buffer IO vector.  <a href="#abce1a1963e8a4a4a6f36506c681e1dbd"></a><br/></td></tr>
<tr class="separator:abce1a1963e8a4a4a6f36506c681e1dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573183de005a4aaa315c3287fc7ef2d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvm-hfa-search_8h.html#a573183de005a4aaa315c3287fc7ef2d7">HFA_SEARCH_MAX_GM_LEN</a>&#160;&#160;&#160;((64&lt;&lt;10)-1) /* 64K - 1 */</td></tr>
<tr class="memdesc:a573183de005a4aaa315c3287fc7ef2d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum total payload/buffer size for a search.  <a href="#a573183de005a4aaa315c3287fc7ef2d7"></a><br/></td></tr>
<tr class="separator:a573183de005a4aaa315c3287fc7ef2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eebe3983928c1e78368096ce7850f0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cvm-hfa-search_8h.html#a0eebe3983928c1e78368096ce7850f0f">HFA_ANY_CLUSTER_SEARCH</a>&#160;&#160;&#160;-1</td></tr>
<tr class="memdesc:a0eebe3983928c1e78368096ce7850f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">choose anyone available cluster for search based on load  <a href="#a0eebe3983928c1e78368096ce7850f0f"></a><br/></td></tr>
<tr class="separator:a0eebe3983928c1e78368096ce7850f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a42f31f626c14faf97ba218b7d2396908"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhfa__savedsearchctx.html">hfa_savedsearchctx</a>  <a class="el" href="cvm-hfa-search_8h.html#a42f31f626c14faf97ba218b7d2396908">hfa_savedsearchctx_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hardware and software search context. </p>

</div>
</div>
<a class="anchor" id="a91473753f0317febd4c8a6b835e14075"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhfa__searchctx.html">hfa_searchctx</a>  <a class="el" href="cvm-hfa-search_8h.html#a91473753f0317febd4c8a6b835e14075">hfa_searchctx_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search context data structure. </p>

</div>
</div>
<a class="anchor" id="ac1773c95641d62b6ae8776bff19c4e48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhfa__searchparams.html">hfa_searchparams</a>  <a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search Parameters set by Application. </p>
<p>Application needs to set following parameters depending upon the different search modes supported by OCTEON HFA block </p>

</div>
</div>
<a class="anchor" id="a688383ac8d6d875683dc29f71c764f08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhfa__wqe__pktdata__overload.html">hfa_wqe_pktdata_overload</a> <a class="el" href="cvm-hfa-search_8h.html#a688383ac8d6d875683dc29f71c764f08">hfa_wqe_pktdata_overload_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a3dc6dd6b44dcb039e811796079110ee1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cvm-hfa-search_8h.html#a3dc6dd6b44dcb039e811796079110ee1">hfa_pp_oflags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output flags from post-processor. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a3dc6dd6b44dcb039e811796079110ee1ab9fd08f55957564504cb5e72ff7d70b0"></a>HFA_PP_OFLAGS_FSAVEBUF</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="add57b6b19433fd68310bc0b91baa6b97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cvm-hfa-search_8h.html#add57b6b19433fd68310bc0b91baa6b97">hfa_searchctx_iflags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search Context Flags. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="add57b6b19433fd68310bc0b91baa6b97ab589afb96fe672fa04812f3a22491284"></a>HFA_SEARCHCTX_FDEFAULTFLAGS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="add57b6b19433fd68310bc0b91baa6b97a11490c915864ff7c6f850ca5ac75adc4"></a>HFA_SEARCHCTX_FNOCROSS</em>&nbsp;</td><td>
<p>Do not perform cross-packet match. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="add57b6b19433fd68310bc0b91baa6b97adf3a643afaa029ed58284c17cd1dc7d0"></a>HFA_SEARCHCTX_FSINGLEMATCH</em>&nbsp;</td><td>
<p>Report only the first match per search. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="add57b6b19433fd68310bc0b91baa6b97ac86c4933813275110f5ed18db7852b34"></a>HFA_SEARCHCTX_FENABLE_PPSTATS</em>&nbsp;</td><td>
<p>Initialize post process statistics. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="aa1024abe17231180bd52d34b4e530aaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cvm-hfa-search_8h.html#aa1024abe17231180bd52d34b4e530aaa">hfa_searchctx_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search Context Status. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aa1024abe17231180bd52d34b4e530aaaa463bbab662f31abb8432fb09d1752696"></a>HFA_SEARCHCTX_SINITIAL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa1024abe17231180bd52d34b4e530aaaa13ee1a82284ac6e9056b371a98e2ad94"></a>HFA_SEARCHCTX_SGRAPH_SET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa1024abe17231180bd52d34b4e530aaaaf4713ba13ac21626d2b11751382bfe96"></a>HFA_SEARCHCTX_SPPUARG_SET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa1024abe17231180bd52d34b4e530aaaa1e8510a6a0d9f6cd979b2e7f55eb44ca"></a>HFA_SEARCHCTX_SPPSTATS_SET</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cvm-hfa-search_8h.html#a1f4c5713f53c1d524ac60e8fe6cceac6">hfa_searchstatus_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search Status. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6ad343dbfd86e3dc01695e9bb64e23e103"></a>HFA_SEARCH_SEAGAIN</em>&nbsp;</td><td>
<p>try to get status again later </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6a0193abb17924e0bdbd890bd05d5b5128"></a>HFA_SEARCH_SDONE</em>&nbsp;</td><td>
<p>Reason code returned by HFA engine. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6a376aca4fd404b8f45007319fc98bc47c"></a>HFA_SEARCH_SERR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6a683deca11b5a16a894c5e35cd09cc801"></a>HFA_SEARCH_SRFULL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6a68dcc69db64a2347935f2ef2d9db106f"></a>HFA_SEARCH_STERM</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6a203f0922ae19e82432ee158518681b03"></a>HFA_SEARCH_SNOGRAPH</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6a23a5121c43fe9d4e7390b46076174495"></a>HFA_SEARCH_SGDONE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1f4c5713f53c1d524ac60e8fe6cceac6a1043bfc2f58e8a0f2f96c00bfb3666fb"></a>HFA_SEARCH_SGERR</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad18e328b50b109e1e44821f3d006bd9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfa_searchparam_get_hwsearch_pdboff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a> *&#160;</td>
          <td class="paramname"><em>psparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvm-hfa-common_8h.html#a12ea4dd0eca13bd21e0df0c501d76bd3">hfa_pdboff_t</a> *&#160;</td>
          <td class="paramname"><em>ppdboff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine returns the data-buffer offset. </p>
<p>The data-buffer offset indicates how much of the input buffer has been searched by the HFA engine. Ideally the HFA engine will search the entire buffer and write the results to the output buffer. However, under some circumstances(for ex: if output buffer is full and hardware cannot write any more results), the search is incomplete and HFA engine indicates the progress made using the data-buffer offset. Application must check this field if HFA engine returned HFA_REASON_RFULL as the reason code(via <a class="el" href="cvm-hfa-search_8h.html#ab50a2d84e35b5a4a03a23fc90e4dffa0" title="This routine retrieves the reason code after a search operation has been completed by the HFA engine...">hfa_searchparam_get_hwsearch_reason()</a>) and launch another search after providing a new output buffer. The data-buffer offset should be used to adjust the input IO vectors such that data that has already been searched by the hardware is not searched again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psparam</td><td>Pointer to search parameter </td></tr>
    <tr><td class="paramname">ppdboff</td><td>Pointer to pdboffset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="cvm-hfa-search_8h_ad18e328b50b109e1e44821f3d006bd9d_icgraph.svg" width="100%" height="509"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab50a2d84e35b5a4a03a23fc90e4dffa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfa_searchparam_get_hwsearch_reason </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a> *&#160;</td>
          <td class="paramname"><em>psparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvm-hfa-instr_8h.html#a5b3f315b07062868d709bd76fab1947a">hfa_reason_t</a> *&#160;</td>
          <td class="paramname"><em>preason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine retrieves the reason code after a search operation has been completed by the HFA engine. </p>
<p>The reason code is written by the hardware to the output buffer set in sparam using <a class="el" href="cvm-hfa-search_8h.html#a12882fa53f8ec49b9b2950711161db42" title="This routine sets the output buffer in the sparam.">hfa_searchparam_set_output()</a>. The routine extracts it from the output buffer and makes it available to the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psparam</td><td>Pointer to search parameter </td></tr>
    <tr><td class="paramname">preason</td><td>Address of variable where API writes hardware reason</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="cvm-hfa-search_8h_ab50a2d84e35b5a4a03a23fc90e4dffa0_icgraph.svg" width="100%" height="559"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5bcfbfda7036d9aca28a3c5828847a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfa_searchparam_get_ppoflags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a> *&#160;</td>
          <td class="paramname"><em>psparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvm-hfa-common_8h.html#a7817614b429a17fa0d6538b2c1a8caae">hfa_ppoflags_t</a> *&#160;</td>
          <td class="paramname"><em>pppoflags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine retrieves flags returned by post-processor. </p>
<p>The post-processor can return the HFA_SEARCHCTX_FSAVEBUF flag to indicate that the application must preserve the input buffer and provide it during subsequent invocations of <a class="el" href="cvm-hfa-search_8c.html#a6dbb15dc58155b2c94b19784ad42ef89" title="This routine post-processes the search results from the HFA engine and reports the pattern matches fo...">hfa_searchctx_getmatches()</a>. The application should call this routine and check if HFA_SEARCHCTX_FSAVEBUF is set and act accordingly. This routine should be called after <a class="el" href="cvm-hfa-search_8c.html#a6dbb15dc58155b2c94b19784ad42ef89" title="This routine post-processes the search results from the HFA engine and reports the pattern matches fo...">hfa_searchctx_getmatches()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psparam</td><td>Pointer to search parameter </td></tr>
    <tr><td class="paramname">pppoflags</td><td>Pointer to ppoflags</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="cvm-hfa-search_8h_ac5bcfbfda7036d9aca28a3c5828847a5_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3c407460808f038770473ffc6e4b5c38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfa_searchparam_set_inputiovec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a> *&#160;</td>
          <td class="paramname"><em>psparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvm-hfa-common_8h.html#a6d57035f49325ad65a8e39c38a511fbc">hfa_iovec_t</a> *&#160;</td>
          <td class="paramname"><em>piovec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ioveclen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine adds a new input IO vector to Search Param. </p>
<p>The Search Param(sparam) represets a set parameters necessary to perform a pattern search. It includes the input buffer/payload, the buffer to hold the HFA engine search results, a match callback setting, a WQE pointer, cluster setting, and post-processing flags.</p>
<p>The input IO vector contains chunks of buffer/payload data which will be searched by HFA engine for patterns. The application must ensure that the buffers are readable by HFA engine, by using appropriate type of memory.</p>
<p>Refer to <a class="el" href="cvm-hfa-search_8h.html#ae9741e867075c9b8cc63a7d889d5bf20" title="This routine is a variant of hfa_searchparam_set_inputiovec() when the previously searched input IO v...">hfa_searchparam_set_inputiovec_0_n()</a> for a variant of this routine and its use-case.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psparam</td><td>Pointer to search parameter </td></tr>
    <tr><td class="paramname">piovec</td><td>Pointer to iovec array [0..n] </td></tr>
    <tr><td class="paramname">ioveclen</td><td>Length of iovec array(number of IO vectors)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="cvm-hfa-search_8h_a3c407460808f038770473ffc6e4b5c38_icgraph.svg" width="491" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae9741e867075c9b8cc63a7d889d5bf20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfa_searchparam_set_inputiovec_0_n </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a> *&#160;</td>
          <td class="paramname"><em>psparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvm-hfa-common_8h.html#a6d57035f49325ad65a8e39c38a511fbc">hfa_iovec_t</a> *&#160;</td>
          <td class="paramname"><em>piovec_0_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ioveclen_0_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ioveclen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine is a variant of <a class="el" href="cvm-hfa-search_8h.html#a3c407460808f038770473ffc6e4b5c38" title="This routine adds a new input IO vector to Search Param.">hfa_searchparam_set_inputiovec()</a> when the previously searched input IO vectors are also set in sparam. </p>
<p>Only a portion of the input IO vectors will be used to perform the pattern-search. The <b>ioveclen_0_n</b> parameter specifies the total number of IO vectors including the older IO vectors and newest IO vector yet to be scanned. The <b>ioveclen</b> parameter specifies the number of IO vectors that need to be scanned(i.e. the Nth set of IO vectors). The IO vectors from <b>0</b> to <b>[ioveclen_0_n - ioveclen]</b> represent the older(previously searched IO vectors).</p>
<p>This routine should be used when <a class="el" href="cvm-hfa-search_8h.html#ac5bcfbfda7036d9aca28a3c5828847a5" title="This routine retrieves flags returned by post-processor.">hfa_searchparam_get_ppoflags()</a> returns the HFA_SEARCHCTX_FSAVEBUF flag. This indicates that the post-processor(as part of <a class="el" href="cvm-hfa-search_8c.html#a6dbb15dc58155b2c94b19784ad42ef89" title="This routine post-processes the search results from the HFA engine and reports the pattern matches fo...">hfa_searchctx_getmatches()</a>) may require access to previous input buffers in order to report some matches. As a result the application must preserve these buffers and should not free them. <a class="el" href="cvm-hfa-search_8c.html#a6dbb15dc58155b2c94b19784ad42ef89" title="This routine post-processes the search results from the HFA engine and reports the pattern matches fo...">hfa_searchctx_getmatches()</a> will make use of all the IO vectors from <b>0</b> to <b>N</b>.</p>
<p>If ioveclen_0_n and ioveclen are equal, this routine is effectively same as <a class="el" href="cvm-hfa-search_8h.html#a3c407460808f038770473ffc6e4b5c38" title="This routine adds a new input IO vector to Search Param.">hfa_searchparam_set_inputiovec()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psparam</td><td>Pointer to search parameter </td></tr>
    <tr><td class="paramname">piovec_0_n</td><td>Pointer to iovec array [0..n] </td></tr>
    <tr><td class="paramname">ioveclen_0_n</td><td>Length of total iovecs including nth iovec len </td></tr>
    <tr><td class="paramname">ioveclen</td><td>Length of nth iovec len</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="cvm-hfa-search_8h_ae9741e867075c9b8cc63a7d889d5bf20_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0210e636ef06f718be0e67753bebaa04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfa_searchparam_set_matchcb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a> *&#160;</td>
          <td class="paramname"><em>psparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvm-hfa-common_8h.html#ab6f4fa7903f9ab93c26d1e5ef1af75f9">hfa_matchcb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine configures the application callback routine which will be invoked when a pattern match is found. </p>
<p>The callback will be invoked as part of the application invocation of <a class="el" href="cvm-hfa-search_8c.html#a6dbb15dc58155b2c94b19784ad42ef89" title="This routine post-processes the search results from the HFA engine and reports the pattern matches fo...">hfa_searchctx_getmatches()</a>. The callback will be invoked for every match found based on search settings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psparam</td><td>pointer to Search parameter </td></tr>
    <tr><td class="paramname">cb</td><td>pointer to match callback function </td></tr>
    <tr><td class="paramname">cbarg</td><td>arguments to match callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="cvm-hfa-search_8h_a0210e636ef06f718be0e67753bebaa04_icgraph.svg" width="467" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a12882fa53f8ec49b9b2950711161db42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfa_searchparam_set_output </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a> *&#160;</td>
          <td class="paramname"><em>psparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine sets the output buffer in the sparam. </p>
<p>The output buffer holds the HFA engine search results and hence the application must ensure that the memory used is writable by the HFA engine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psparam</td><td>Pointer to search parameter </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to the buffer </td></tr>
    <tr><td class="paramname">len</td><td>Length of the output buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="cvm-hfa-search_8h_a12882fa53f8ec49b9b2950711161db42_icgraph.svg" width="619" height="414"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aedf4239a435fd4722c404dacccdef6b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfa_searchparam_set_wqe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa-search_8h.html#ac1773c95641d62b6ae8776bff19c4e48">hfa_searchparams_t</a> *&#160;</td>
          <td class="paramname"><em>psparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cvmx_wqe_t *&#160;</td>
          <td class="paramname"><em>wqe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set WQE field in Search parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psparam</td><td>Pointer to Search parameter </td></tr>
    <tr><td class="paramname">wqe</td><td>Pointer to WQE</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS if wqe is set to psparam, HFA_FAILURE otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_148615f018249bdfc7d135fe95c1684f.html">drv</a></li><li class="navelem"><a class="el" href="dir_82286fbd24db31111907a385951d53ec.html">include</a></li><li class="navelem"><a class="el" href="cvm-hfa-search_8h.html">cvm-hfa-search.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
