<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OCTEON HFA SDK 3.1.0: flow.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OCTEON HFA SDK 3.1.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('flow_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">flow.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Application interface to manage flow database and flows. </p>
<ul>
<li>Create Flow Database, Flows</li>
<li>Destroy Flow database, Flows</li>
<li>Submit packet or poll packet to Flows </li>
</ul>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5612d7984788e189466a7a799fb2f60c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flow_8c.html#a5612d7984788e189466a7a799fb2f60c">HFAF_APP_INVAL</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a5612d7984788e189466a7a799fb2f60c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a28378e8a6f53ff0e87f2e688d1c21834"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> __hfaf_create_flow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa_8h.html#a6fdb03101e2e545c90ed4b769027b390">hfa_dev_t</a> *&#160;</td>
          <td class="paramname"><em>pdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhfaf__flow__t.html">hfaf_flow_t</a> **&#160;</td>
          <td class="paramname"><em>ppflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhfa__graph__t.html">hfa_graph_t</a> *&#160;</td>
          <td class="paramname"><em>pgraph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flow_8h.html#a6929330b9c7b95703c5d1a4f7fc03d76">hfaf_matchcb_t</a>&#160;</td>
          <td class="paramname"><em>matchcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>searchflags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Low level API to create a flow Allocate Flow, Intialize searchctx, set graph and setflags,. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdev</td><td>Pointer to the device </td></tr>
    <tr><td class="paramname">ppflow</td><td>Flow ptr after allocation set to this </td></tr>
    <tr><td class="paramname">pgraph</td><td>Pointer to graph on which ctx/flow will work </td></tr>
    <tr><td class="paramname">matchcb</td><td>Pointer to the matchcb application function </td></tr>
    <tr><td class="paramname">searchflags</td><td>Search Flags for the flow/ctx</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS if flow created, HFA_FAILURE otherwise </dd></dl>

<p><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a28378e8a6f53ff0e87f2e688d1c21834_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_a28378e8a6f53ff0e87f2e688d1c21834_icgraph.svg" width="494" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a696ee2b7ad7078c47242360be84d89bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> __hfaf_destroy_flow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa_8h.html#a6fdb03101e2e545c90ed4b769027b390">hfa_dev_t</a> *&#160;</td>
          <td class="paramname"><em>pdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhfaf__flow__t.html">hfaf_flow_t</a> *&#160;</td>
          <td class="paramname"><em>pflow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counterpart of __hfaf_create_flow. </p>
<p>Low level API to Destroys ctx or flow</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdev</td><td>Pointer to the device </td></tr>
    <tr><td class="paramname">pflow</td><td>Pointer to the flow</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS if flow destroyed, HFA_FAILURE otherwise </dd></dl>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a696ee2b7ad7078c47242360be84d89bf_cgraph.svg" width="100%" height="542"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a696ee2b7ad7078c47242360be84d89bf_icgraph.svg" width="100%" height="410"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2976ab60901b133a56214323fb901663"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> __hfaf_process_pktflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flow__t.html">hfaf_flow_t</a> *&#160;</td>
          <td class="paramname"><em>pflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flow_8h.html#add61de8ff76d8b0d2c78916f82c08bc7">hfaf_paramstatus_t</a> *&#160;</td>
          <td class="paramname"><em>fstatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Low level API to poll a flow. </p>
<p>Paramlist of a flow is iterated and all submitted flows are polled If one submitted flow once polled get success, matches are collected, <a class="el" href="hfa-se-xml-parser_8c.html#a7a1a023f618d2721b68175551e1c6fe0">matchcb()</a> is called and then API returns</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pflow</td><td>Pointer to the flow </td></tr>
    <tr><td class="paramname">fstatus</td><td>Poll status</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS </dd></dl>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a2976ab60901b133a56214323fb901663_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a2976ab60901b133a56214323fb901663_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5034d9a3ed0a1dac918c6a8d84fae8c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> __hfaf_submit_pktflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flow__t.html">hfaf_flow_t</a> *&#160;</td>
          <td class="paramname"><em>pflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flow_8h.html#add61de8ff76d8b0d2c78916f82c08bc7">hfaf_paramstatus_t</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Low level API to submit search parameter to flow. </p>
<p>Submit a search parameter from flow-&gt;paramlist. Paramlist of a flow is iterated from head and flow if found is submitted. Submit only one search parameter to maintain the flow. THis API is called from <a class="el" href="flow_8c.html#a6a0b19b2cbf279cbf487dccef83623da" title="High Level API to submit Search Parameter to a Flow.">hfaf_submit_pktflow()</a> and <a class="el" href="flow_8c.html#a1bcaad6265810bf942a4a5d40a3b1e3a" title="All submitted search parameters in Paramlist of flow are polled If low level API __hfaf_process_pktfl...">hfaf_process_pktflow()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pflow</td><td>POinter to the flow </td></tr>
    <tr><td class="paramname">status</td><td>Submit Status</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS if submitted one, HFA_FAILURE otherwise </dd></dl>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_a5034d9a3ed0a1dac918c6a8d84fae8c6_cgraph.svg" width="560" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a5034d9a3ed0a1dac918c6a8d84fae8c6_icgraph.svg" width="100%" height="370"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae695ed2e606d873e01bd4ae5fd66919d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_addsparam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flow__t.html">hfaf_flow_t</a> *&#160;</td>
          <td class="paramname"><em>pflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhfaf__sparam__t.html">hfaf_sparam_t</a> *&#160;</td>
          <td class="paramname"><em>fparam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add Search Parameter to a Flow Search parameter is added to the flow-&gt;paramlist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pflow</td><td>Pointer to the flow </td></tr>
    <tr><td class="paramname">fparam</td><td>Pointer to the search parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS if successfully added, HFA_FAILURE otherwise </dd></dl>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_ae695ed2e606d873e01bd4ae5fd66919d_cgraph.svg" width="494" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_ae695ed2e606d873e01bd4ae5fd66919d_icgraph.svg" width="416" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="afd4334cffa6be01afda5aa31eeecf6c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_create_pktflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flowdb__t.html">hfaf_flowdb_t</a> *&#160;</td>
          <td class="paramname"><em>pfdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flow_8h.html#a6e33bc69842e270dd174b7c6ee7d2537">flowid_t</a>&#160;</td>
          <td class="paramname"><em>flowid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhfa__graph__t.html">hfa_graph_t</a> *&#160;</td>
          <td class="paramname"><em>pgraph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flow_8h.html#a6929330b9c7b95703c5d1a4f7fc03d76">hfaf_matchcb_t</a>&#160;</td>
          <td class="paramname"><em>matchcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>searchflags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create Packet Flow in Flowdb. </p>
<p>Allocate Flow, Intialize searchctx, set graph and setflags, Create a map node, fill the node and add map node in the flowdb linked list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pfdb</td><td>Pointer to the flow </td></tr>
    <tr><td class="paramname">flowid</td><td>Flowid or Tag value </td></tr>
    <tr><td class="paramname">pgraph</td><td>Pointer to graph on which flow will search </td></tr>
    <tr><td class="paramname">matchcb</td><td>Pointer to the matchcb application function </td></tr>
    <tr><td class="paramname">searchflags</td><td>Search Flags for the flow</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS if flow created, HFA_FAILURE otherwise </dd></dl>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_afd4334cffa6be01afda5aa31eeecf6c4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_afd4334cffa6be01afda5aa31eeecf6c4_icgraph.svg" width="302" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e9b60b5854c7fb99ebf64cbc47c3550"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_destroy_pktflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flowdb__t.html">hfaf_flowdb_t</a> *&#160;</td>
          <td class="paramname"><em>pfdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flow_8h.html#a6e33bc69842e270dd174b7c6ee7d2537">flowid_t</a>&#160;</td>
          <td class="paramname"><em>flowid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counterpart of <a class="el" href="flow_8c.html#afd4334cffa6be01afda5aa31eeecf6c4" title="Create Packet Flow in Flowdb.">hfaf_create_pktflow()</a>. </p>
<p>Destroys flow As per flowid a array index is selected and Linked list is iterated to get map node of provided flowid. If found, node is deleted from the list and map node and flow is freed</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pfdb</td><td>Pointer to the flow db </td></tr>
    <tr><td class="paramname">flowid</td><td>Flowid or Tag value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS if flow destroyed, HFA_FAILURE otherwise </dd></dl>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a0e9b60b5854c7fb99ebf64cbc47c3550_cgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e9bd00f1a2d420e5d505f24a7468944"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_flowdb_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flowdb__t.html">hfaf_flowdb_t</a> *&#160;</td>
          <td class="paramname"><em>pfdb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanups Flow database which was created in <a class="el" href="flow_8c.html#a677d35171cfe4dd2bdb327fa50b54e5f" title="Initially a Array is created with maxflow indexes.Each index holds Linked List head.">hfaf_flowdb_init()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pfdb</td><td>Pointer to Flow databsae </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a0e9bd00f1a2d420e5d505f24a7468944_cgraph.svg" width="100%" height="542"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_a0e9bd00f1a2d420e5d505f24a7468944_icgraph.svg" width="270" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a677d35171cfe4dd2bdb327fa50b54e5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_flowdb_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cvm-hfa_8h.html#a6fdb03101e2e545c90ed4b769027b390">hfa_dev_t</a> *&#160;</td>
          <td class="paramname"><em>pdev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhfaf__flowdb__t.html">hfaf_flowdb_t</a> *&#160;</td>
          <td class="paramname"><em>pfdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pmaxflow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initially a Array is created with maxflow indexes.Each index holds Linked List head. </p>
<p>Each Linked List holds nodes having mapping of [FLOWID: PFLOW]. No memory allocated initially for any flow. The flow is created at run time, when the first packet is arrived for it. When the packet arrived for a flow, a index with in the above array is calculated from the WQE tag using: (pfdb-&gt;bitmsk &amp;&amp; tag) and a map node is created [flowid, pflow] and added to the tail of the list of the index node.</p>
<p>If number of flows created == initially indexes created for flowdb. Each index will have only one flow hence implementation will like hashing. However flow searching complexity will increasing if flows per index increases and each time linked list has to be iterated to get rewuired flow.</p>
<p>This function tries to align maxflow count to number x (where x = 2^y -1) &amp;&amp; (x &gt; maxflows)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdev</td><td>Pointer to device </td></tr>
    <tr><td class="paramname">pfdb</td><td>Pointer to flow database </td></tr>
    <tr><td class="paramname">pmaxflow</td><td>Pointer to number of initial flows</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS of flowdb created, HFA_FAILURE otherwise </dd></dl>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_a677d35171cfe4dd2bdb327fa50b54e5f_cgraph.svg" width="344" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_a677d35171cfe4dd2bdb327fa50b54e5f_icgraph.svg" width="235" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a93974ea83df979435eb77f3c5d4ab848"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_flowdb_node_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flowdb__t.html">hfaf_flowdb_t</a> *&#160;</td>
          <td class="paramname"><em>pfdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleanup Flowdb Node (Per Index) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pfdb</td><td>Pointer to the Flow database </td></tr>
    <tr><td class="paramname">cnt</td><td>Index of Flowdb array where node to be cleaned up</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a93974ea83df979435eb77f3c5d4ab848_cgraph.svg" width="100%" height="542"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_a93974ea83df979435eb77f3c5d4ab848_icgraph.svg" width="512" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a975658e6420735e18fe54a97672468c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_flowdb_node_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flowdb__t.html">hfaf_flowdb_t</a> *&#160;</td>
          <td class="paramname"><em>pfdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes Flow database index. </p>
<p>Called implicitly by <a class="el" href="flow_8c.html#a677d35171cfe4dd2bdb327fa50b54e5f" title="Initially a Array is created with maxflow indexes.Each index holds Linked List head.">hfaf_flowdb_init()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pfdb</td><td>Pointer to the flow </td></tr>
    <tr><td class="paramname">cnt</td><td>Index of flowdb arrary where node has to be initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_a975658e6420735e18fe54a97672468c6_icgraph.svg" width="446" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1bcaad6265810bf942a4a5d40a3b1e3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_process_pktflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flow__t.html">hfaf_flow_t</a> *&#160;</td>
          <td class="paramname"><em>pflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flow_8h.html#add61de8ff76d8b0d2c78916f82c08bc7">hfaf_paramstatus_t</a> *&#160;</td>
          <td class="paramname"><em>fstatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All submitted search parameters in Paramlist of flow are polled If low level API <a class="el" href="flow_8c.html#a2976ab60901b133a56214323fb901663" title="Low level API to poll a flow.">__hfaf_process_pktflow()</a> indicates that one search parameter is successfully processed, an attempt is made to submit next search parameter (if present) in the flow param list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pflow</td><td>Pointer to the flow </td></tr>
    <tr><td class="paramname">fstatus</td><td>Process status</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>

<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a1bcaad6265810bf942a4a5d40a3b1e3a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a1bcaad6265810bf942a4a5d40a3b1e3a_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a0b19b2cbf279cbf487dccef83623da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cvm-hfa-common_8h.html#acb5ea5512d47f9f1dc7f94a79185a429">hfa_return_t</a> hfaf_submit_pktflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhfaf__flow__t.html">hfaf_flow_t</a> *&#160;</td>
          <td class="paramname"><em>pflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flow_8h.html#add61de8ff76d8b0d2c78916f82c08bc7">hfaf_paramstatus_t</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>High Level API to submit Search Parameter to a Flow. </p>
<p>THis API does the sanity to check is any search parameter is waiting to be submitted or is any present and then call low level <a class="el" href="flow_8c.html#a5034d9a3ed0a1dac918c6a8d84fae8c6" title="Low level API to submit search parameter to flow.">__hfaf_submit_pktflow()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pflow</td><td>Pointer to the flow </td></tr>
    <tr><td class="paramname">status</td><td>Submit status</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HFA_SUCCESS/HFA_FAILURE </dd></dl>
<p>Get lock, If already submitted return </p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="flow_8c_a6a0b19b2cbf279cbf487dccef83623da_cgraph.svg" width="100%" height="382"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="flow_8c_a6a0b19b2cbf279cbf487dccef83623da_icgraph.svg" width="318" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1f075b319f4978b8e3e5a7ab29b1009f.html">utils</a></li><li class="navelem"><a class="el" href="dir_37d8ac9c0bedaecbda6f2d9bf41083fb.html">flow</a></li><li class="navelem"><a class="el" href="flow_8c.html">flow.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
